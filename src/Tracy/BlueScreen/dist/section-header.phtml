<?php
declare(strict_types=1);
?>
<?php use Tracy\Helpers ?>
<?php $title = $ex instanceof ErrorException ? Helpers::errorTypeToString($ex->getSeverity()) : get_debug_type($ex) ?><?php $code = $ex->getCode() ? ' #' . $ex->getCode() : '' ?>
<section class="tracy-section tracy-section--error">
<?php if ($ex->getMessage()): ?>
	<p><?= Tracy\Helpers::escapeHtml($title) ?>
<?= Tracy\Helpers::escapeHtml($code) ?>
</p>
<?php endif ?>

	<h1>
		<span><?= Tracy\Helpers::escapeHtml($this->formatMessage($ex) ?: htmlspecialchars($title . $code)) ?>
</span>
<?php foreach ($actions as $item): ?>			<a href="<?= Tracy\Helpers::escapeHtml($item['link']) ?>
" class="tracy-action"<?= Tracy\Helpers::escapeHtml(empty($item['external']) ? '' : ' target="_blank" rel="noreferrer noopener"') ?>
><?= Tracy\Helpers::escapeHtml($item['label']) ?>
&#x25ba;</a>
<?php endforeach ?>	</h1>

<?php if ($ex->getPrevious()): ?>		<div class="tracy-caused">
			<a href="#tracyCaused<?= Tracy\Helpers::escapeHtml(count($exceptions) + 1) ?>
">Caused by <?= Tracy\Helpers::escapeHtml(get_debug_type($ex->getPrevious())) ?>
</a>
		</div>
<?php endif ?></section>

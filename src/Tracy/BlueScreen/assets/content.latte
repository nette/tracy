{*
 * @var Throwable $exception
 * @var array[] $actions
 * @var string[] $info
 * @var string $source
 * @var ?array $lastError
 * @var string[] $httpHeaders
 * @var callable $dump
 * @var array $snapshot
 * @var bool $showEnvironment
 * @var BlueScreen $this
 * @var bool $headersSent
 * @var ?string $headersFile
 * @var ?int $headersLine
 * @var ?array $obStatus
 * @var Generator[] $generators
 * @var Fiber[] $fibers
 *}
{use Tracy\Dumper}

<tracy-div id="tracy-bs" itemscope>
	<a id="tracy-bs-toggle" href="#" class="tracy-toggle">&#xfeff;</a>

	<div class="tracy-bs-main">
		{do $ex = $exception}
		{do $exceptions = []}

		{do require(__DIR__ . '/section-exception.phtml')}
		{do require(__DIR__ . '/section-lastMutedError.phtml')}

		{do $bottomPanels = []}
		{foreach $this->renderPanels(null) as $panel}
			{if !empty($panel->bottom)}
				{do $bottomPanels[] = $panel}
				{do continue}
			{/if}

			{do $collapsedClass = !isset($panel->collapsed) || $panel->collapsed ? ' tracy-collapsed' : ''}
			<section class="tracy-section">
				<h2 class="tracy-section-label"><a href="#" data-tracy-ref="^+" class="tracy-toggle{$collapsedClass}">{$panel->tab}</a></h2>

				<div class="tracy-section-panel{$collapsedClass}">
					{$panel->panel}
				</div>
			</section>
		{/foreach}

		{do require(__DIR__ . '/section-environment.phtml')}
		{do require(__DIR__ . '/section-cli.phtml')}
		{do require(__DIR__ . '/section-http.phtml')}

		{foreach $bottomPanels as $panel}
			<section class="tracy-section">
				<h2 class="tracy-section-label"><a href="#" data-tracy-ref="^+" class="tracy-toggle">{$panel->tab}</a></h2>

				<div class="tracy-section-panel">
					{$panel->panel}
				</div>
			</section>
		{/foreach}

		<footer>
			<ul>
				<li><b><a href="https://github.com/sponsors/dg" target="_blank" rel="noreferrer noopener">Please support Tracy via a donation üíôÔ∏è</a></b></li>
				<li>Report generated at {date('Y/m/d H:i:s')}</li>
				{foreach $info as $item}
					<li>{$item}</li>
				{/foreach}
			</ul>

			<div class="tracy-footer-logo"><a href="https://tracy.nette.org" rel="noreferrer"></a></div>
		</footer>
	</div>

	<meta itemprop=tracy-snapshot content={Dumper::formatSnapshotAttribute($snapshot)}>
</tracy-div>
